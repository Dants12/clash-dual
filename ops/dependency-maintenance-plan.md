# План устранения npm-предупреждений при деплое

## 1. Зафиксировать текущее состояние
- Сохранить логи GitHub Actions, где фиксируются предупреждения npm о `inflight`, `glob`, `rimraf` и `eslint@8.57.1`.
- Запустить локально `npm ls inflight glob rimraf eslint` в каталогах `server` и `client`, чтобы убедиться, что источником является цепочка зависимостей ESLint (`eslint → file-entry-cache → flat-cache → rimraf → glob → inflight`).

## 2. Обновить ESLint и экосистему линтера
- Перейти на актуальную версию ESLint 9.x, которая больше не тянет устаревшие пакеты (`glob@9+` без `inflight`).
- Обновить сопутствующие пакеты:
  - `@typescript-eslint/eslint-plugin` и `@typescript-eslint/parser` до совместимой версии 8.x.
  - `eslint-plugin-react-hooks`, `eslint-plugin-react-refresh`, `eslint-config-prettier` до последних минорных релизов с поддержкой ESLint 9.
- Проверить, не требуется ли миграция на плоскую конфигурацию (flat config). Для сохранения `.eslintrc.cjs` можно использовать пакет `@eslint/compat`. Если переход на flat-конфиг сложен, запланировать его как отдельный шаг.

## 3. Перегенерировать lock-файлы
- После обновлений выполнить `rm -rf node_modules package-lock.json` в `server` и `client` и повторно запустить `npm install` для получения lock-файлов без устаревших зависимостей.
- Убедиться, что `npm ls inflight` больше не возвращает пакеты.

## 4. Тестирование и CI
- Прогнать `npm run lint`, `npm run build`, `npm test` (для сервера) и `npm run build` (для клиента), чтобы подтвердить совместимость новых версий.
- Обновить GitHub Actions: добавить шаги, которые проверяют отсутствие deprecated-пакетов (`npm ls inflight glob rimraf`), чтобы предупреждения не вернулись.

## 5. Деплой и мониторинг
- После слияния изменений инициировать деплой из Actions и убедиться, что логи чисты от предупреждений об устаревших зависимостях.
- Зафиксировать результат и обновить документацию, если потребуется.
